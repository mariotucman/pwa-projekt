<!DOCTYPE html>
<html lang="hr">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <title>Unos vijesti</title>
  </head>

  <body>
    <div class="main">
      <nav class="navigation">
        <ul>
          <li><a href="index.php">POČETNA</a></li>
          <li><a href="kategorija.php?kategorija=politika">POLITIKA</a></li>
          <li><a href="kategorija.php?kategorija=sport">SPORT</a></li>
          <li><a href="administracija.php">ADMINISTRACIJA</a></li>
        </ul>
      </nav>

      <header>
        <h1 class="header1">Llist</h1>
      </header>

      <form
        enctype="multipart/form-data"
        action="skripta.php"
        method="POST"
        id="forma"
        name="forma"
        onsubmit="return validateForm()"
      >
        <div class="form-item">
          <span id="porukaTitle" class="bojaPoruke"></span>
          <label for="title">Naslov vijesti (do 100 znakova):</label>
          <div class="form-field">
            <input
              type="text"
              name="title"
              id="title"
              class="form-field-textual"
            />
          </div>
        </div>
        <div class="form-item">
          <span id="porukaSubtitle" class="bojaPoruke"></span>
          <label for="subtitle">Podnaslov vijesti (do 50 znakova):</label>
          <div class="form-field">
            <input
              type="text"
              name="subtitle"
              id="subtitle"
              class="form-field-textual"
            />
          </div>
        </div>
        <div class="form-item">
          <span id="porukaAbout" class="bojaPoruke"></span>
          <label for="about">Kratki sadržaj vijesti (do 255 znakova):</label>
          <div class="form-field">
            <textarea
              name="about"
              id="about"
              cols="80"
              rows="6"
              class="form-field-textual"
            ></textarea>
          </div>
        </div>
        <div class="form-item">
          <span id="porukaContent" class="bojaPoruke"></span>
          <label for="content">Sadržaj vijesti:</label>
          <div class="form-field">
            <textarea
              name="content"
              id="content"
              cols="80"
              rows="12"
              class="form-field-textual"
            ></textarea>
          </div>
        </div>
        <div class="form-item">
          <span id="porukaSlika" class="bojaPoruke"></span>
          <label for="pphoto">Slika:</label>
          <div class="form-field">
            <input
              type="file"
              accept="image/jpg,image/jpeg,image/png,image/gif"
              class="input-text"
              id="pphoto"
              name="pphoto"
            />
          </div>
        </div>
        <div class="form-item">
          <label for="category">Kategorija vijesti:</label>
          <div class="form-field">
            <select name="category" id="kategorija" class="form-field-textual">
              <option value="politika">Politika</option>
              <option value="sport">Sport</option>
            </select>
          </div>
        </div>
        <div class="form-item">
          <label for="archive">Spremiti u arhivu:</label>
          <div class="form-field">
            <input type="checkbox" name="archive" />
          </div>
        </div>
        <div class="form-item">
          <button type="reset" name="reset" class="reset" value="Poništi">
            Poništi
          </button>
          <br />
          <button
            type="submit"
            name="submit"
            class="submit"
            id="submit"
            value="Prihvati"
          >
            Prihvati
          </button>
        </div>
      </form>
    </div>

    <footer>
      <h1 class="header1">Llist</h1>
      <p class="credits">© 2023 Mario Tucman (mtucman@tvz.hr)</p>
    </footer>
  </body>

  <script type="text/javascript">
    function validateForm() {
      var slanjeForme = true;

      // Naslov vijesti
      var poljeTitle = document.getElementById("title");
      var title = document.getElementById("title").value;
      if (title.length < 5 || title.length > 100) {
        slanjeForme = false;
        poljeTitle.style.border = "2px dashed red";
        document.getElementById("porukaTitle").innerHTML =
          "Naslov vijesti mora imati između 5 i 100 znakova!<br>";
      } else {
        poljeTitle.style.border = "2px solid green";
        document.getElementById("porukaTitle").innerHTML = "";
      }

      // Podnaslov vijesti
      var poljeSubtitle = document.getElementById("subtitle");
      var subtitle = document.getElementById("subtitle").value;
      if (subtitle.length < 5 || subtitle.length > 50) {
        slanjeForme = false;
        poljeSubtitle.style.border = "2px dashed red";
        document.getElementById("porukaSubtitle").innerHTML =
          "Podnaslov vijesti mora imati između 5 i 50 znakova!<br>";
      } else {
        poljeSubtitle.style.border = "2px solid green";
        document.getElementById("porukaSubtitle").innerHTML = "";
      }

      // Kratki sadržaj
      var poljeAbout = document.getElementById("about");
      var about = document.getElementById("about").value;
      if (about.length < 10 || about.length > 255) {
        slanjeForme = false;
        poljeAbout.style.border = "2px dashed red";
        document.getElementById("porukaAbout").innerHTML =
          "Kratki sadržaj mora imati između 10 i 255 znakova!<br>";
      } else {
        poljeAbout.style.border = "2px solid green";
        document.getElementById("porukaAbout").innerHTML = "";
      }

      // Sadržaj mora biti unesen
      var poljeContent = document.getElementById("content");
      var content = document.getElementById("content").value;
      if (content.length == 0) {
        slanjeForme = false;
        poljeContent.style.border = "2px dashed red";
        document.getElementById("porukaContent").innerHTML =
          "Sadržaj mora biti unesen!<br>";
      } else {
        poljeContent.style.border = "2px solid green";
        document.getElementById("porukaContent").innerHTML = "";
      }

      // Slika mora biti unesena
      var poljeSlika = document.getElementById("pphoto");
      var pphoto = document.getElementById("pphoto").value;
      if (pphoto.length == 0) {
        slanjeForme = false;
        poljeSlika.style.border = "2px dashed red";
        document.getElementById("porukaSlika").innerHTML =
          "Slika mora biti unesena!<br>";
      } else {
        poljeSlika.style.border = "2px solid green";
        document.getElementById("porukaSlika").innerHTML = "";
      }

      return slanjeForme;
    }
  </script>
</html>
